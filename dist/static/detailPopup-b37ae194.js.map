{"version":3,"file":"detailPopup-b37ae194.js","sources":["../../src/components/detailPopup.vue"],"sourcesContent":["<template>\n  <el-drawer\n    v-model=\"drawerVisible\"\n    ref=\"drawerRef\"\n    title=\"详情\"\n    direction=\"rtl\"\n    size=\"80%\"\n    :append-to-body=\"true\"\n    :z-index=\"9999\"\n  >\n    <div class=\"js-error-detail-content flex flex-1\">\n      <el-scroll\n        ref=\"scrollbarRef\"\n        trigger=\"hover\"\n        class=\"flex-1\"\n        direction=\"all\"\n      >\n        <div class=\"flex-1 left-content\">\n          <h2 class=\"title flex\">\n            基本信息 (项目ID: {{ perfNode.monitorAppId }})\n          </h2>\n        </div>\n        <div class=\"line1 flex\">\n          <p class=\"flex flex-1 align-items-center\" data-user=\"上报人\">\n            <el-icon :size=\"20\"><UserFilled /></el-icon>\n            {{ perfNode.uuId }}\n          </p>\n          <p class=\"flex flex-1 align-items-center\" data-user=\"浏览器\">\n            <el-icon size=\"20\"><ChromeFilled /></el-icon>\n            {{ perfNode.browserInfo }}\n          </p>\n          <p class=\"flex flex-1 align-items-center\" data-user=\"系统\">\n            <el-icon size=\"20\"><Iphone /></el-icon>\n            {{ perfNode.os }}\n          </p>\n        </div>\n        <div>\n          <dl class=\"line2\">\n            <dd class=\"flex flex-wrap\">\n              <p>\n                <label>ip:</label><label>{{ perfNode.ip || \"\" }}</label>\n              </p>\n              <p>\n                <label>区域:</label><label>{{ perfNode.country || \"\" }}</label>\n              </p>\n              <p>\n                <label>设备:</label><label>{{ perfNode.device || \"\" }}</label>\n              </p>\n              <p>\n                <label>设备尺寸:</label\n                ><label>{{ perfNode.deviceType || \"\" }}</label>\n              </p>\n              <p>\n                <label>浏览器:</label><label>{{ perfNode.device || \"\" }}</label>\n              </p>\n              <p>\n                <label>地址页面:</label\n                ><label class=\"single-ellipsis\">{{ perfNode.pageUrl }}</label>\n              </p>\n            </dd>\n          </dl>\n          <h2 class=\"title\">UserAgent</h2>\n          <dl class=\"line3\">\n            <dd>{{ perfNode.userAgent }}</dd>\n          </dl>\n          <template v-if=\"perfNode.category === 'RESOURCE_ERROR'\">\n            <h2 class=\"title\">错误信息 ({{ perfNode.happenTime }})</h2>\n            <dl class=\"line4\">\n              <dt>{{ perfNode.category }}： {{ perfNode.errorMsg }}</dt>\n              <dd>{{ perfNode.html || \"\" }}</dd>\n              <dd v-if=\"perfNode.paths && perfNode.paths.length\">\n                DOM Paths：{{ JSON.stringify(perfNode.paths) }}\n              </dd>\n            </dl>\n          </template>\n          <template v-if=\"perfNode.category === 'JS_ERROR'\">\n            <h2 class=\"title\">\n              {{ perfNode.subType == \"vueError\" ? \"Vue\" : \"Js\" }}错误堆栈 ({{\n                perfNode.happenTime\n              }})\n            </h2>\n            <dl class=\"line4\">\n              <dt>{{ perfNode.type }}： {{ perfNode.errorMsg }}</dt>\n              <dd\n                v-for=\"(item, index) in perfNode.stackTraces\n                  ? JSON.parse(perfNode.stackTraces)\n                  : []\"\n                :key=\"index\"\n              >\n                at functionName: {{ item.functionName }}（<cite\n                  >{{ resetFile(item.filename) }}:<b>{{ item.lineno }}</b\n                  >:<b>{{ item.colno }}</b></cite\n                >）\n              </dd>\n            </dl>\n            <div\n              class=\"vue-replenish-info\"\n              v-if=\"perfNode?.subType == 'vueError'\"\n            >\n              <h3>其他补充信息：</h3>\n              <p>\n                hook: <b>{{ perfNode?.hook }}</b>\n              </p>\n              <p>\n                componentName: <b>{{ perfNode?.componentName }}</b>\n              </p>\n              <p>\n                componentNameTrace: <b>{{ perfNode?.componentNameTrace }}</b>\n              </p>\n            </div>\n          </template>\n        </div>\n      </el-scroll>\n    </div>\n  </el-drawer>\n</template>\n\n<script lang=\"ts\">\nimport { ref } from \"vue\";\nexport default {\n  props: {\n    perfNode: {\n      type: Object,\n      required: true,\n    },\n  },\n  name: \"\",\n  setup() {\n    const drawerVisible = ref(true);\n    const resetFile = (filename: string) => {\n      if (!filename) return \"\";\n      const reg = /\\http(.+?)\\.js/g;\n      let result: any = filename.match(reg);\n      return result && result.length ? result[0] : \"\";\n    };\n\n    return {\n      drawerVisible,\n      resetFile,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.js-error-wapper {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.issue-type {\n  font-weight: bold;\n  font-size: 14px;\n  cursor: pointer;\n}\n.status-desc {\n  border-radius: 4px;\n  display: inline-block;\n  padding: 2px 5px;\n  font-size: 12px;\n  line-height: 14px;\n}\n\n.js-error-detail-header {\n  width: 100%;\n  padding-bottom: 15px;\n  border-bottom: 5px solid #ccc;\n  dl {\n    font-weight: 600;\n\n    dt {\n      b {\n        font-size: 16px;\n      }\n    }\n    dd {\n      padding: 10px 0;\n      &.timer {\n        font-size: 14px;\n      }\n    }\n  }\n}\n.swicth-btn {\n  .el-button {\n    margin-left: 0;\n    &:first-child {\n      border-top-right-radius: 0;\n      border-bottom-right-radius: 0;\n    }\n    &:last-child {\n      border-top-left-radius: 0;\n      border-bottom-left-radius: 0;\n    }\n  }\n\n  p {\n    padding: 0 10px;\n  }\n}\n\n.js-error-detail-content {\n  height: 0;\n  width: 100%;\n  padding: 5px 0 20px;\n  h2.title,\n  h3.title {\n    font-size: 15px;\n    font-weight: 500;\n    align-items: center;\n    padding: 15px 0;\n    color: #000;\n    &::before {\n      content: \"\";\n      display: inline-block;\n      width: 0;\n      height: 10px;\n      margin-right: 5px;\n    }\n  }\n  .line1 {\n    padding-top: 10px;\n    color: #000;\n    p {\n      color: #000;\n      i,\n      svg {\n        margin-right: 10px;\n      }\n    }\n  }\n  dl {\n    // padding-top: 30px;\n    dt {\n      font-weight: bold;\n      font-size: 15px;\n    }\n    dd {\n      padding: 10px 0;\n    }\n\n    &.line2 {\n      dd {\n        p {\n          margin-right: 10px;\n          margin-bottom: 10px;\n          display: flex;\n          background: #fafafa;\n          border: 1px solid #ebebeb;\n          line-height: 24px;\n          label {\n            color: #000;\n          }\n          label:first-child {\n            padding: 0 10px;\n            display: inline-block;\n            background-color: #fff;\n            border-right: 1px solid #ebebeb;\n          }\n          label:last-child {\n            padding: 0 10px;\n          }\n        }\n      }\n    }\n\n    &.line4 {\n      color: red;\n      text-align: left;\n      dd {\n        padding: 5px;\n        cite {\n          color: #ccc;\n        }\n      }\n    }\n  }\n  .line3 {\n    color: #000;\n    text-align: left;\n  }\n  h3.title {\n    font-size: 14px;\n    text-align: left;\n\n    &::before {\n    }\n  }\n  .title {\n    text-align: left;\n  }\n  .left-content {\n    .vue-replenish-info {\n      h3 {\n        font-size: 15px;\n        line-height: 34px;\n      }\n      p {\n        padding: 5px;\n        b {\n          color: red;\n        }\n      }\n    }\n\n    .http-status {\n      padding-right: 10px;\n      font-size: 16px;\n      font-weight: bold;\n    }\n  }\n}\n</style>\n"],"names":["_sfc_main","props","perfNode","type","Object","required","name","setup","drawerVisible","ref","resetFile","filename","result","match","length","_withScopeId","n","_pushScopeId","_popScopeId","_hoisted_1","class","_hoisted_2","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_10","_createElementVNode","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_16","createBaseVNode","_hoisted_18","_hoisted_20","_hoisted_21","key","_hoisted_24","_resolveComponent","modelValue","$setup","_cache","$event","title","direction","size","_withCtx","_createVNode","_component_el_scroll","trigger","_hoisted_3","_toDisplayString","$props","monitorAppId","_component_el_icon","default","_createTextVNode","uuId","browserInfo","_hoisted_8","_hoisted_9","ip","country","device","deviceType","_hoisted_14","_hoisted_15","_hoisted_17","userAgent","category","_createElementBlock","_Fragment","_hoisted_19","happenTime","errorMsg","html","paths","_openBlock","JSON","stringify","_createCommentVNode","_hoisted_22","subType","_hoisted_23","_renderList","stackTraces","parse","item","index","functionName","lineno","colno","_a","_hoisted_25","_b","hook","_c","componentName"],"mappings":"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"}